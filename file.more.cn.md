### Go语言标准库提供的其他方便功能

bufio

TODO: 阅读bufio的代码和文档，补充其他没讲到的有用功能

ioutil

TODO: 阅读ioutil的代码和文档，补充其他没讲到的有用功能

在实际应用中，要高效地读取最后N行，我们应当模仿UNIX系统的`tail`命令来实现这个功能，即先利用`Seek()`跳转到文件结尾，然后用缓冲区从结尾往前读取，每次读取一个缓冲区，并分析其内容，如果发现换行符，则得到了一行文本。这样反复往前读，直到读到了N行文本为止。这里代码需要处理缓冲区到文本行的转换，实际上是要自己实现`bufio`的内部细节内容。代码如下：

```go
// TODO: implement backward reading N lines with Seek() and a buffer
```




### 内存映射

参考第三方开源工程[mmap-go](https://github.com/edsrzf/mmap-go)。

TODO: 描述mmap-go对内存映射的基本实现


## 1.5 并发读写

因为Go语言的主要设计要素就是并发，在此我们着重探讨一下并发读写的课题。在这个过程中，可以看到goroutine、channel等Go语言的并发工具，如何更简洁高效地实现并发读写的功能。

并发读

并发写

多读一写

一读多写

多读多写

## 1.6 其他文件操作

除了读写，我们还还可以对文件进行新建、删除、移动（重命名）、复制、搜索等操作。另外，除了文件，还有文件夹需要操作，因为操作文件时往往涉及到文件夹，因此一起介绍了。

本节介绍这些操作的基本用法，以及几个进阶的应用，如文件树扫描、文件夹同步（类Rsync）、文件备份等。

### 新建文件

新建空白文件

新建和写入操作合起来

新建文件夹

新建文件树

### 删除文件

删除文件

批量删除

删除文件夹

删除文件树

### 重命名和移动

### 复制文件

### 文件信息查询

### 搜索

### 同步

### 文件备	份

### inotify

### 结构化二进制格式：Protocol Buffers

我们在上一章“数据”章节中已经介绍过Go语言如何处理protobuf数据，不过主要集中在内存中读写的场景。本节介绍一下读取protobuf文件时需要注意的事项。
### 结构化二进制格式：FlatBuffers